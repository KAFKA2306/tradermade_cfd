# 計画

## タスクの理解

1.  **環境変数の設定:** Windows 10 の環境変数に API キーを一時的かつ恒久的に設定する手順を理解する。
2.  **アーキテクチャ設計:**
    *   `src` ディレクトリ以下に Python ファイルを作成する。
    *   `output` ディレクトリ以下に、データの種類ごとにフォルダを分けて保存する。
    *   `config` ファイル内で、`BASE_DIR` と `OUTPUT_DIR` を設定する。
    *   `config` で一連のディレクトリを生成する。
3.  **コーディング:**
    *   コメントは不要。
    *   明瞭で短いコードを記述する。
    *   `import` は `import 任意のsrc以下のpyファイル名の形` で行う。
    *   `from .` は全て不要。
    *   データの入出力は parquet 形式にする。
    *   時間 col は標準的な datetime 形式で index に設定する。
4.  **データ処理:**
    *   データを取得し、それぞれ適切なディレクトリに parquet として保存する。
    *   別の Python ファイルでデータを統合する。
    *   与えられた指標 (現物価格、先物価格、ベーシスなど) を計算し、別の適切なフォルダに保存する。

## 計画

1.  **環境変数の設定手順の確認:** Windows 10 で環境変数を設定する方法を調査する。
2.  **ファイル構成の設計:**
    *   `src` ディレクトリ以下に作成する Python ファイルの種類と役割を定義する。
    *   `output` ディレクトリ以下のフォルダ構成を定義する。
3.  **`config.py` の作成:**
    *   `BASE_DIR`、`OUTPUT_DIR`、データディレクトリを定義する。
    *   必要なディレクトリを生成する関数を定義する。
4.  **データ取得スクリプトの作成:**
    *   API からすべてのデータを取得し、parquet 形式で保存するスクリプトを作成する。
5.  **データ統合スクリプトの作成:**
    *   複数の parquet ファイルを読み込み、統合するスクリプトを作成する。
6.  **指標計算スクリプトの作成:**
    *   統合されたデータから、ベーシスZスコアを計算し、parquet 形式で保存するスクリプトを作成する。
7.  **`view.py` の修正:**
    *   計算されたベーシスZスコアを表示するように `view.py` を修正する。

## Mermaid ダイアグラム

```mermaid
graph LR
    A[APIからデータ取得] --> B(parquet形式で保存)
    B --> C{データ統合}
    C --> D[指標計算]
    D --> E(parquet形式で保存)
    E --> F[view.pyで表示]